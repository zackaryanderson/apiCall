{"ast":null,"code":"var _jsxFileName = \"/Users/zan/Documents/CodingBootcamp/apiCall/newReactApp/newapp/client/src/Components/RecipeAPI/index.js\";\nimport React from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport { ADD_RECIPE } from '../../utils/mutations';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction RecipeCall() {\n  var _s = $RefreshSig$();\n\n  let apiKey = \"b0c7f65173eb4810a62bd72e96c8563f\";\n  let call = \"https://api.spoonacular.com/recipes/random?number=5&apiKey=\" + apiKey;\n  let data = [];\n\n  async function GetNewRecipes(call) {\n    _s();\n\n    let response = await fetch(call);\n    data = await response.json();\n    console.log(data.recipes); //capture Recipe API data\n\n    const [addRecipe, {\n      error\n    }] = useMutation(ADD_RECIPE); //store data from API nested in data variable\n\n    for (let i = 0; i < data.length; i++) {\n      let apiID = data.recipe[i].id;\n      let title = data.recipe[i].title;\n      console.log(apiID);\n\n      const dataSubmit = async () => {\n        try {\n          const mutationResponse = await addRecipe({\n            variables: {\n              apiID: apiID,\n              title: title\n            }\n          });\n\n          if (error) {\n            throw new Error('something went wrong');\n          }\n\n          ;\n          console.log(mutationResponse);\n        } catch (e) {\n          console.log(e);\n        }\n      };\n\n      dataSubmit();\n    }\n  }\n\n  _s(GetNewRecipes, \"USZynGUC+v9e+Q1yPEqOz+oZUic=\", false, function () {\n    return [useMutation];\n  });\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    onClick: () => etNewRecipes(call),\n    children: /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"#clickme\",\n      children: \"Click Me\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n\n_c = RecipeCall;\nexport default RecipeCall;\n\nvar _c;\n\n$RefreshReg$(_c, \"RecipeCall\");","map":{"version":3,"names":["React","useMutation","ADD_RECIPE","RecipeCall","apiKey","call","data","GetNewRecipes","response","fetch","json","console","log","recipes","addRecipe","error","i","length","apiID","recipe","id","title","dataSubmit","mutationResponse","variables","Error","e","etNewRecipes"],"sources":["/Users/zan/Documents/CodingBootcamp/apiCall/newReactApp/newapp/client/src/Components/RecipeAPI/index.js"],"sourcesContent":["import React from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport { ADD_RECIPE } from '../../utils/mutations';\n\nfunction RecipeCall() {\n\n    let apiKey = \"b0c7f65173eb4810a62bd72e96c8563f\";\n    let call = \"https://api.spoonacular.com/recipes/random?number=5&apiKey=\" + apiKey;\n    let data = [];\n\n    async function GetNewRecipes (call){\n\n        let response = await fetch (call);\n        data = await response.json();\n\n        console.log(data.recipes);\n\n    \n\n        //capture Recipe API data\n        const [addRecipe, {error} ] = useMutation(ADD_RECIPE);\n\n        //store data from API nested in data variable\n        for (let i = 0; i < data.length; i++) {\n\n            let apiID = data.recipe[i].id;\n            let title = data.recipe[i].title;\n\n            console.log(apiID);\n\n            const dataSubmit = async () => {\n                try {\n                    const mutationResponse = await addRecipe({\n                        variables: {\n                            apiID: apiID,\n                            title: title\n                        }\n                    });\n\n                    if (error) {\n                        throw new Error('something went wrong');\n                    };\n                    console.log(mutationResponse);\n                } catch (e) {\n                    console.log(e)\n                }\n            }\n\n            dataSubmit();\n\n\n        }\n    }\n\n\n\n    return (\n        <section onClick = {() => etNewRecipes(call)}>\n            <a href=\"#clickme\">Click Me</a>\n        </section>\n    )\n}\n\nexport default RecipeCall;\n\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,UAAT,QAA2B,uBAA3B;;;AAEA,SAASC,UAAT,GAAsB;EAAA;;EAElB,IAAIC,MAAM,GAAG,kCAAb;EACA,IAAIC,IAAI,GAAG,gEAAgED,MAA3E;EACA,IAAIE,IAAI,GAAG,EAAX;;EAEA,eAAeC,aAAf,CAA8BF,IAA9B,EAAmC;IAAA;;IAE/B,IAAIG,QAAQ,GAAG,MAAMC,KAAK,CAAEJ,IAAF,CAA1B;IACAC,IAAI,GAAG,MAAME,QAAQ,CAACE,IAAT,EAAb;IAEAC,OAAO,CAACC,GAAR,CAAYN,IAAI,CAACO,OAAjB,EAL+B,CAS/B;;IACA,MAAM,CAACC,SAAD,EAAY;MAACC;IAAD,CAAZ,IAAwBd,WAAW,CAACC,UAAD,CAAzC,CAV+B,CAY/B;;IACA,KAAK,IAAIc,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGV,IAAI,CAACW,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;MAElC,IAAIE,KAAK,GAAGZ,IAAI,CAACa,MAAL,CAAYH,CAAZ,EAAeI,EAA3B;MACA,IAAIC,KAAK,GAAGf,IAAI,CAACa,MAAL,CAAYH,CAAZ,EAAeK,KAA3B;MAEAV,OAAO,CAACC,GAAR,CAAYM,KAAZ;;MAEA,MAAMI,UAAU,GAAG,YAAY;QAC3B,IAAI;UACA,MAAMC,gBAAgB,GAAG,MAAMT,SAAS,CAAC;YACrCU,SAAS,EAAE;cACPN,KAAK,EAAEA,KADA;cAEPG,KAAK,EAAEA;YAFA;UAD0B,CAAD,CAAxC;;UAOA,IAAIN,KAAJ,EAAW;YACP,MAAM,IAAIU,KAAJ,CAAU,sBAAV,CAAN;UACH;;UAAA;UACDd,OAAO,CAACC,GAAR,CAAYW,gBAAZ;QACH,CAZD,CAYE,OAAOG,CAAP,EAAU;UACRf,OAAO,CAACC,GAAR,CAAYc,CAAZ;QACH;MACJ,CAhBD;;MAkBAJ,UAAU;IAGb;EACJ;;EAhDiB,GAMHf,aANG;IAAA,QAgBgBN,WAhBhB;EAAA;;EAoDlB,oBACI;IAAS,OAAO,EAAI,MAAM0B,YAAY,CAACtB,IAAD,CAAtC;IAAA,uBACI;MAAG,IAAI,EAAC,UAAR;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EADJ;IAAA;IAAA;IAAA;EAAA,QADJ;AAKH;;KAzDQF,U;AA2DT,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}